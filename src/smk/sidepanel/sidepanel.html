<div class="smk-sidepanel" v-bind:class="{ expanded: !!currentTool }">

    <div class="smk-elastic-panel">
        <div class="smk-title">
            <i class="smk-command smk-icon material-icons" title="Go Back"
                v-on:click="previousPanel()"
                v-bind:class="{ 'smk-hidden': depth() <= 1 }"
            >arrow_back</i>

            <div v-if="currentTool">
                <component 
                    v-if="currentTool.titleComponent"
                    v-bind:is="currentTool.titleComponent"
                    v-bind="currentTool.panel"
                ></component>
                <span
                    v-else
                    v-html="currentTool.panel.title"
                ></span>
            </div>

            <i class="smk-command smk-icon material-icons" title="Close Panel"
                v-on:click="closePanel()"
            >close</i>
        </div>

        <component class="smk-panel"
            v-if="currentTool"
            v-bind:is="currentTool.panelComponent"
            v-bind:key="currentTool.id"
            v-bind="currentTool.panel"
        ></component>
    </div>

</div>